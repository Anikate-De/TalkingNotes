(()=>{"use strict";let e=!1,t=!1;chrome.runtime.sendMessage({message:"popupOpened"},(e=>{e.onGoogleKeep?(document.getElementsByClassName("initial-content")[0].classList.remove("hidden"),document.getElementsByClassName("conversation-content")[0].classList.add("hidden"),document.getElementsByClassName("error-content")[0].classList.add("hidden"),document.getElementsByClassName("question-controls")[0].classList.remove("hidden")):(document.getElementsByClassName("initial-content")[0].classList.add("hidden"),document.getElementsByClassName("conversation-content")[0].classList.add("hidden"),document.getElementsByClassName("error-content")[0].classList.remove("hidden"),document.getElementsByClassName("question-controls")[0].classList.add("hidden"))})),document.getElementsByTagName("input")[0].addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),document.getElementsByClassName("sendButton")[0].click())})),document.getElementsByClassName("sendButton")[0].addEventListener("click",(s=>{chrome.runtime.sendMessage({message:"scrapeGoogleKeep"},(s=>{var n=document.getElementsByTagName("input")[0].value.trim(),a="Using the given text as Context, answer the following question: \nContext:"+s+"\nQuestion:"+n+"\nAnswer:";document.getElementsByClassName("initial-content")[0].classList.add("hidden"),document.getElementsByClassName("conversation-content")[0].classList.remove("hidden"),document.getElementById("question-text").innerHTML=n,document.getElementById("answer-text").innerHTML="Loading...",document.getElementsByClassName("classic")[0].classList.add("hidden"),document.getElementsByClassName("regenerate-controls-header")[0].classList.add("hidden"),document.getElementsByClassName("creative")[0].classList.add("hidden"),document.getElementsByClassName("relevant")[0].classList.add("hidden"),fetch("https://api.ai21.com/studio/v1/j2-ultra/complete",{headers:{Authorization:"Bearer OW3Epb30cQwUr0fbYQWqPWf6JMnsFfSX","Content-Type":"application/json"},body:JSON.stringify({prompt:a,numResults:1,maxTokens:200,temperature:e?1:.5,topKReturn:0,topP:t?1:.5,countPenalty:{scale:0,applyToNumbers:!1,applyToPunctuations:!1,applyToStopwords:!1,applyToWhitespaces:!1,applyToEmojis:!1},frequencyPenalty:{scale:0,applyToNumbers:!1,applyToPunctuations:!1,applyToStopwords:!1,applyToWhitespaces:!1,applyToEmojis:!1},presencePenalty:{scale:0,applyToNumbers:!1,applyToPunctuations:!1,applyToStopwords:!1,applyToWhitespaces:!1,applyToEmojis:!1},stopSequences:[]}),method:"POST"}).then((e=>e.json())).then((s=>{var n=s.completions[0].data.text;document.getElementById("answer-text").innerHTML=n,document.getElementsByClassName("classic")[0].classList.remove("hidden"),document.getElementsByClassName("regenerate-controls-header")[0].classList.remove("hidden"),document.getElementsByClassName("creative")[0].classList.remove("hidden"),document.getElementsByClassName("relevant")[0].classList.remove("hidden"),e=!1,t=!1}))}))})),document.getElementsByClassName("classic")[0].addEventListener("click",(e=>{document.getElementsByClassName("sendButton")[0].click()})),document.getElementsByClassName("creative")[0].addEventListener("click",(t=>{e=!0,document.getElementsByClassName("sendButton")[0].click()})),document.getElementsByClassName("relevant")[0].addEventListener("click",(e=>{t=!0,document.getElementsByClassName("sendButton")[0].click()}))})();